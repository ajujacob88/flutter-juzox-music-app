<manifest xmlns:android="http://schemas.android.com/apk/res/android">
<!-- for file permissions add the below line-->

<!-- Android 12 or below  -->


  <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
  <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>

  <!-- Android 13 or greater  -->

  <uses-permission android:name="android.permission.READ_MEDIA_IMAGES"/>
  <uses-permission android:name="android.permission.READ_MEDIA_VIDEO"/>
  <uses-permission android:name="android.permission.READ_MEDIA_AUDIO"/>


<!-- FOR NOTIFICATONS -->
 <!-- ADD THESE TWO PERMISSIONS -->
  <uses-permission android:name="android.permission.WAKE_LOCK"/>
  <uses-permission android:name="android.permission.FOREGROUND_SERVICE"/>
  <!-- ALSO ADD THIS PERMISSION IF TARGETING SDK 34 -->
  <uses-permission android:name="android.permission.FOREGROUND_SERVICE_MEDIA_PLAYBACK"/>


<!-- Read storage permission for Android 12 and lower -->
  <!--  <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>  -->

 <!--   <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>   -->

  <!--  <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"  android:maxSdkVersion="28" /> -->
   

   <!-- <uses-permission android:name="android.permission.READ_MEDIA_AUDIO" /> -->

    <!-- <uses-permission android:name="android.permission.ACCESS_MEDIA_LOCATION" /> -->

      <!-- Permissions options for the `manage external storage` group 
      if you intend to distribute your app on the Play Store (and perhaps elsewhere), you will need to justify the reason for requesting that permission. so dont give this permission-->
   <!-- <uses-permission android:name="android.permission.MANAGE_EXTERNAL_STORAGE"  />   -->

    <!--
      Granular media permissions for Android 13 and newer.
      See https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions
      for more information.
    -->
    <uses-permission android:name="android.permission.READ_MEDIA_AUDIO" />


<!--
      me put this android:requestLegacyExternalStorage="true" />
    -->
    <application

        android:requestLegacyExternalStorage="true" 


        android:label="juzox_music_app"
        android:name="${applicationName}"
        android:icon="@mipmap/ic_launcher">        
       <!-- <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" /> -->
       

      <!-- Replaced the below portion to end with the just_audio_background github manifest -->
         <activity
            android:name="com.ryanheise.audioservice.AudioServiceActivity"
            android:launchMode="singleTop"
            android:theme="@style/LaunchTheme"
            android:configChanges="orientation|keyboardHidden|keyboard|screenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode"
            android:hardwareAccelerated="true"
            android:windowSoftInputMode="adjustResize"
            android:exported="true">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>

        <service
            android:name="com.ryanheise.audioservice.AudioService"
            android:foregroundServiceType="mediaPlayback"
            android:exported="true">
            <intent-filter>
                <action android:name="android.media.browse.MediaBrowserService" />
            </intent-filter>
        </service>

        <receiver
            android:name="com.ryanheise.audioservice.MediaButtonReceiver"
            android:exported="true">
            <intent-filter>
                <action android:name="android.intent.action.MEDIA_BUTTON" />
            </intent-filter>
        </receiver> 

        <meta-data
            android:name="flutterEmbedding"
            android:value="2" />
    </application>
</manifest>



     